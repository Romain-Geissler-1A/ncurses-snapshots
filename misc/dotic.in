#! /bin/sh

# Kluge alert: we compile terminfo.src in two pieces because a lot of machines
# with < 16MB RAM choke on tic's core-hog habits.  It would be much nicer to
# use csplit -k -f tsplit $(srcdir)/terminfo.src '/SPLIT HERE/' '{99}' to split
# the file (permitting any number of cut marks), but BSD systems don't have it.
TERMINFO=@TERMINFO@
rm -fr @TERMINFO@/[0-9A-Za-z]
sed -n <@SRCDIR@/terminfo.src -e '1,/SPLIT HERE/w tsplit01' -e '/SPLIT HERE/,$w tsplit02' 2>/dev/null
for x in tsplit*; do @BINDIR@/tic $x; done
rm tsplit*
